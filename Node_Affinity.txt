// nodeSelector a une limitation on ne paus pas  placers les pods  :
   - tous nodes qui n'as pa le label=LARGE ( NotIn )
   - dans any nodes that have label of (LARGE,SMALL,BIG..)  (in) 
 cette limitation se resoue par NodeAffinity:


apiVersion: v1
kind: Pod
metadata:
  name: nginx
spec:
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: disktype
            operator: In   (You can use In, NotIn, Exists, DoesNotExist, Gt and Lt.)
            values:
            - ssd            
  containers:
  - name: nginx
    image: nginx
    imagePullPolicy: IfNotPresent


Sep '21
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: blue
  name: blue
spec:
  replicas: 3
  selector:
    matchLabels:
      app: blue
  template:
    metadata:
      labels:
        app: blue
    spec:
      containers:
      - image: nginx
        name: nginx
      affinity:
        nodeAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - weight: 1
              preference:
                matchExpressions:
                - key: color
                  operator: In
                  values:
                  - blue